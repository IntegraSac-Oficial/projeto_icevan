"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/admin/images/route";
exports.ids = ["app/api/admin/images/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "fs/promises":
/*!******************************!*\
  !*** external "fs/promises" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("fs/promises");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Fimages%2Froute&page=%2Fapi%2Fadmin%2Fimages%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fimages%2Froute.ts&appDir=C%3A%5Cprojetos-dev%5Cice_van_site%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5Cprojetos-dev%5Cice_van_site&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Fimages%2Froute&page=%2Fapi%2Fadmin%2Fimages%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fimages%2Froute.ts&appDir=C%3A%5Cprojetos-dev%5Cice_van_site%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5Cprojetos-dev%5Cice_van_site&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_projetos_dev_ice_van_site_app_api_admin_images_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/admin/images/route.ts */ \"(rsc)/./app/api/admin/images/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/admin/images/route\",\n        pathname: \"/api/admin/images\",\n        filename: \"route\",\n        bundlePath: \"app/api/admin/images/route\"\n    },\n    resolvedPagePath: \"C:\\\\projetos-dev\\\\ice_van_site\\\\app\\\\api\\\\admin\\\\images\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_projetos_dev_ice_van_site_app_api_admin_images_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/admin/images/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhZG1pbiUyRmltYWdlcyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGYWRtaW4lMkZpbWFnZXMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZhZG1pbiUyRmltYWdlcyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDcHJvamV0b3MtZGV2JTVDaWNlX3Zhbl9zaXRlJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDcHJvamV0b3MtZGV2JTVDaWNlX3Zhbl9zaXRlJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNpQjtBQUM5RjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL2ljZS12YW4tc2l0ZS8/OTM0NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxwcm9qZXRvcy1kZXZcXFxcaWNlX3Zhbl9zaXRlXFxcXGFwcFxcXFxhcGlcXFxcYWRtaW5cXFxcaW1hZ2VzXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9hZG1pbi9pbWFnZXMvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hZG1pbi9pbWFnZXNcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2FkbWluL2ltYWdlcy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXHByb2pldG9zLWRldlxcXFxpY2VfdmFuX3NpdGVcXFxcYXBwXFxcXGFwaVxcXFxhZG1pblxcXFxpbWFnZXNcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2FkbWluL2ltYWdlcy9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Fimages%2Froute&page=%2Fapi%2Fadmin%2Fimages%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fimages%2Froute.ts&appDir=C%3A%5Cprojetos-dev%5Cice_van_site%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5Cprojetos-dev%5Cice_van_site&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/admin/images/route.ts":
/*!***************************************!*\
  !*** ./app/api/admin/images/route.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   dynamic: () => (/* binding */ dynamic)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fs/promises */ \"fs/promises\");\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fs_promises__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_2__);\n\n\nconst dynamic = \"force-dynamic\";\n\n\nconst PUBLIC_DIR = path__WEBPACK_IMPORTED_MODULE_2___default().join(process.cwd(), \"public\");\nconst ALLOWED_FOLDERS = [\n    \"images/hero\",\n    \"images/fotos-servicos\",\n    \"images/empresa\",\n    \"images/og\",\n    \"images/logo\",\n    \"images/formas-pagamento\",\n    \"images/aplicacoes/fiorinos\",\n    \"images/aplicacoes/van-ducato\",\n    \"images/aplicacoes/van-sprinter\",\n    \"images/aplicacoes/van-master\",\n    \"images/aplicacoes/expert-porta-frigorifica\",\n    \"images/aplicacoes/fiorino-porta-frigorifica\"\n];\nconst ALLOWED_EXTENSIONS = [\n    \".jpg\",\n    \".jpeg\",\n    \".png\",\n    \".webp\",\n    \".svg\",\n    \".gif\"\n];\n/** GET /api/admin/images?folder=images/hero */ async function GET(request) {\n    const { searchParams } = new URL(request.url);\n    const folder = searchParams.get(\"folder\") ?? \"images/fotos-servicos\";\n    if (!ALLOWED_FOLDERS.includes(folder)) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Pasta n\\xe3o permitida\"\n        }, {\n            status: 400\n        });\n    }\n    const dirPath = path__WEBPACK_IMPORTED_MODULE_2___default().join(PUBLIC_DIR, folder);\n    try {\n        const files = await (0,fs_promises__WEBPACK_IMPORTED_MODULE_1__.readdir)(dirPath);\n        const timestamp = Date.now(); // Timestamp para cache-busting\n        const images = files.filter((f)=>ALLOWED_EXTENSIONS.includes(path__WEBPACK_IMPORTED_MODULE_2___default().extname(f).toLowerCase())).sort((a, b)=>a.localeCompare(b)) // Ordenar alfabeticamente\n        .map((f)=>({\n                filename: f,\n                url: `/${folder}/${f}`,\n                folder,\n                timestamp\n            }));\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            images,\n            folders: ALLOWED_FOLDERS\n        });\n    } catch  {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            images: [],\n            folders: ALLOWED_FOLDERS\n        });\n    }\n}\n/** POST /api/admin/images — Upload de imagem\n *  FormData: file, folder, saveas? (nome do arquivo a sobrescrever)\n */ async function POST(request) {\n    console.log(\"\");\n    console.log(\"═══════════════════════════════════════════════════════════\");\n    console.log(\"\\uD83D\\uDCE5 API: POST /api/admin/images\");\n    console.log(\"═══════════════════════════════════════════════════════════\");\n    try {\n        const formData = await request.formData();\n        const file = formData.get(\"file\");\n        const folder = formData.get(\"folder\");\n        const saveas = formData.get(\"saveas\")?.trim() || null;\n        console.log(\"\\uD83D\\uDCE6 Dados recebidos:\");\n        console.log(\"   - Arquivo:\", file?.name, file ? `(${(file.size / 1024).toFixed(2)} KB)` : \"(ausente)\");\n        console.log(\"   - Pasta:\", folder || \"(ausente)\");\n        console.log(\"   - Salvar como:\", saveas || \"(n\\xe3o especificado - usar nome original)\");\n        console.log(\"\");\n        if (!file || !folder) {\n            console.error(\"❌ Valida\\xe7\\xe3o falhou: arquivo ou pasta ausente\");\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Arquivo e pasta s\\xe3o obrigat\\xf3rios\"\n            }, {\n                status: 400\n            });\n        }\n        if (!ALLOWED_FOLDERS.includes(folder)) {\n            console.error(\"❌ Valida\\xe7\\xe3o falhou: pasta n\\xe3o permitida:\", folder);\n            console.error(\"   Pastas permitidas:\", ALLOWED_FOLDERS.join(\", \"));\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Pasta n\\xe3o permitida\"\n            }, {\n                status: 400\n            });\n        }\n        let safeName;\n        if (saveas) {\n            // Modo substituição: usa o nome fornecido\n            safeName = saveas;\n            console.log(\"\\uD83D\\uDD04 Modo: SUBSTITUI\\xc7\\xc3O\");\n            console.log(\"\\uD83D\\uDCDD Nome a ser usado:\", safeName);\n            const ext = path__WEBPACK_IMPORTED_MODULE_2___default().extname(safeName).toLowerCase();\n            console.log(\"\\uD83D\\uDCCE Extens\\xe3o:\", ext);\n            if (!ALLOWED_EXTENSIONS.includes(ext)) {\n                console.error(\"❌ Valida\\xe7\\xe3o falhou: extens\\xe3o n\\xe3o permitida:\", ext);\n                console.error(\"   Extens\\xf5es permitidas:\", ALLOWED_EXTENSIONS.join(\", \"));\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: \"Formato de arquivo n\\xe3o permitido\"\n                }, {\n                    status: 400\n                });\n            }\n        } else {\n            // Modo upload normal: adiciona prefixo numérico automaticamente\n            const ext = path__WEBPACK_IMPORTED_MODULE_2___default().extname(file.name).toLowerCase();\n            console.log(\"\\uD83D\\uDCE4 Modo: UPLOAD NOVO\");\n            console.log(\"\\uD83D\\uDCCE Extens\\xe3o:\", ext);\n            if (!ALLOWED_EXTENSIONS.includes(ext)) {\n                console.error(\"❌ Valida\\xe7\\xe3o falhou: extens\\xe3o n\\xe3o permitida:\", ext);\n                console.error(\"   Extens\\xf5es permitidas:\", ALLOWED_EXTENSIONS.join(\", \"));\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: \"Formato de arquivo n\\xe3o permitido\"\n                }, {\n                    status: 400\n                });\n            }\n            // Busca arquivos existentes para determinar a próxima posição\n            const dirPath = path__WEBPACK_IMPORTED_MODULE_2___default().join(PUBLIC_DIR, folder);\n            await (0,fs_promises__WEBPACK_IMPORTED_MODULE_1__.mkdir)(dirPath, {\n                recursive: true\n            });\n            let existingFiles = [];\n            try {\n                existingFiles = await (0,fs_promises__WEBPACK_IMPORTED_MODULE_1__.readdir)(dirPath);\n                existingFiles = existingFiles.filter((f)=>ALLOWED_EXTENSIONS.includes(path__WEBPACK_IMPORTED_MODULE_2___default().extname(f).toLowerCase())).sort((a, b)=>a.localeCompare(b));\n            } catch  {\n            // Diretório não existe ainda, será criado\n            }\n            const nextPosition = existingFiles.length + 1;\n            const positionPrefix = String(nextPosition).padStart(2, \"0\");\n            // Remove extensão e qualquer prefixo numérico existente do nome original\n            const originalNameWithoutExt = file.name.replace(/\\.[^/.]+$/, \"\");\n            const cleanName = originalNameWithoutExt.replace(/^\\d+-/, \"\");\n            safeName = `${positionPrefix}-${cleanName}${ext}`;\n            console.log(\"\\uD83D\\uDCDD Arquivos existentes:\", existingFiles.length);\n            console.log(\"\\uD83D\\uDCCD Pr\\xf3xima posi\\xe7\\xe3o:\", nextPosition);\n            console.log(\"\\uD83D\\uDD22 Prefixo:\", positionPrefix + \"-\");\n            console.log(\"\\uD83D\\uDCDD Nome limpo:\", cleanName);\n            console.log(\"\\uD83D\\uDCDD Nome final:\", safeName);\n        }\n        const dirPath = path__WEBPACK_IMPORTED_MODULE_2___default().join(PUBLIC_DIR, folder);\n        console.log(\"\");\n        console.log(\"\\uD83D\\uDCC1 Criando diret\\xf3rio (se n\\xe3o existir):\", dirPath);\n        await (0,fs_promises__WEBPACK_IMPORTED_MODULE_1__.mkdir)(dirPath, {\n            recursive: true\n        });\n        console.log(\"✅ Diret\\xf3rio pronto\");\n        const filePath = path__WEBPACK_IMPORTED_MODULE_2___default().join(dirPath, safeName);\n        console.log(\"\");\n        console.log(\"\\uD83D\\uDCBE Salvando arquivo em:\", filePath);\n        const buffer = Buffer.from(await file.arrayBuffer());\n        console.log(\"\\uD83D\\uDCCA Buffer criado:\", buffer.length, \"bytes\");\n        await (0,fs_promises__WEBPACK_IMPORTED_MODULE_1__.writeFile)(filePath, buffer);\n        const timestamp = Date.now();\n        const resultUrl = `/${folder}/${safeName}`;\n        console.log(\"\");\n        console.log(\"✅✅✅ ARQUIVO SALVO COM SUCESSO! ✅✅✅\");\n        console.log(\"\\uD83C\\uDF10 URL:\", resultUrl);\n        console.log(\"\\uD83D\\uDCDD Nome do arquivo:\", safeName);\n        console.log(\"⏰ Timestamp:\", timestamp);\n        console.log(\"═══════════════════════════════════════════════════════════\");\n        console.log(\"\");\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            ok: true,\n            url: resultUrl,\n            filename: safeName,\n            timestamp\n        });\n    } catch (error) {\n        console.error(\"\");\n        console.error(\"❌❌❌ ERRO NO UPLOAD ❌❌❌\");\n        console.error(\"Tipo:\", error instanceof Error ? error.name : typeof error);\n        console.error(\"Mensagem:\", error instanceof Error ? error.message : String(error));\n        console.error(\"Stack:\", error instanceof Error ? error.stack : \"N/A\");\n        console.error(\"═══════════════════════════════════════════════════════════\");\n        console.error(\"\");\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Erro no upload\",\n            details: String(error)\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVVBLGlCQUFpQmdELFFBQVFoRCxNQUFNa0QsS0FBSyxHQUFHO1FBQy9EOUIsUUFBUXBCLEtBQUssQ0FBQztRQUNkb0IsUUFBUXBCLEtBQUssQ0FBQztRQUNkLE9BQU9yQixxREFBWUEsQ0FBQ29CLElBQUksQ0FBQztZQUFFQyxPQUFPO1lBQWtCbUQsU0FBU2YsT0FBT3BDO1FBQU8sR0FBRztZQUFFQyxRQUFRO1FBQUk7SUFDOUY7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2ljZS12YW4tc2l0ZS8uL2FwcC9hcGkvYWRtaW4vaW1hZ2VzL3JvdXRlLnRzPzQ3M2MiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L3NlcnZlclwiO1xuaW1wb3J0IHsgcmVhZGRpciB9IGZyb20gXCJmcy9wcm9taXNlc1wiO1xuXG5leHBvcnQgY29uc3QgZHluYW1pYyA9IFwiZm9yY2UtZHluYW1pY1wiO1xuaW1wb3J0IHsgd3JpdGVGaWxlLCBta2RpciB9IGZyb20gXCJmcy9wcm9taXNlc1wiO1xuaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIjtcblxuY29uc3QgUFVCTElDX0RJUiA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCBcInB1YmxpY1wiKTtcblxuY29uc3QgQUxMT1dFRF9GT0xERVJTID0gW1xuICBcImltYWdlcy9oZXJvXCIsXG4gIFwiaW1hZ2VzL2ZvdG9zLXNlcnZpY29zXCIsXG4gIFwiaW1hZ2VzL2VtcHJlc2FcIixcbiAgXCJpbWFnZXMvb2dcIixcbiAgXCJpbWFnZXMvbG9nb1wiLFxuICBcImltYWdlcy9mb3JtYXMtcGFnYW1lbnRvXCIsXG4gIFwiaW1hZ2VzL2FwbGljYWNvZXMvZmlvcmlub3NcIixcbiAgXCJpbWFnZXMvYXBsaWNhY29lcy92YW4tZHVjYXRvXCIsXG4gIFwiaW1hZ2VzL2FwbGljYWNvZXMvdmFuLXNwcmludGVyXCIsXG4gIFwiaW1hZ2VzL2FwbGljYWNvZXMvdmFuLW1hc3RlclwiLFxuICBcImltYWdlcy9hcGxpY2Fjb2VzL2V4cGVydC1wb3J0YS1mcmlnb3JpZmljYVwiLFxuICBcImltYWdlcy9hcGxpY2Fjb2VzL2Zpb3Jpbm8tcG9ydGEtZnJpZ29yaWZpY2FcIixcbl07XG5cbmNvbnN0IEFMTE9XRURfRVhURU5TSU9OUyA9IFtcIi5qcGdcIiwgXCIuanBlZ1wiLCBcIi5wbmdcIiwgXCIud2VicFwiLCBcIi5zdmdcIiwgXCIuZ2lmXCJdO1xuXG4vKiogR0VUIC9hcGkvYWRtaW4vaW1hZ2VzP2ZvbGRlcj1pbWFnZXMvaGVybyAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XG4gIGNvbnN0IGZvbGRlciA9IHNlYXJjaFBhcmFtcy5nZXQoXCJmb2xkZXJcIikgPz8gXCJpbWFnZXMvZm90b3Mtc2Vydmljb3NcIjtcblxuICBpZiAoIUFMTE9XRURfRk9MREVSUy5pbmNsdWRlcyhmb2xkZXIpKSB7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiUGFzdGEgbsOjbyBwZXJtaXRpZGFcIiB9LCB7IHN0YXR1czogNDAwIH0pO1xuICB9XG5cbiAgY29uc3QgZGlyUGF0aCA9IHBhdGguam9pbihQVUJMSUNfRElSLCBmb2xkZXIpO1xuXG4gIHRyeSB7XG4gICAgY29uc3QgZmlsZXMgPSBhd2FpdCByZWFkZGlyKGRpclBhdGgpO1xuICAgIGNvbnN0IHRpbWVzdGFtcCA9IERhdGUubm93KCk7IC8vIFRpbWVzdGFtcCBwYXJhIGNhY2hlLWJ1c3RpbmdcbiAgICBjb25zdCBpbWFnZXMgPSBmaWxlc1xuICAgICAgLmZpbHRlcigoZikgPT4gQUxMT1dFRF9FWFRFTlNJT05TLmluY2x1ZGVzKHBhdGguZXh0bmFtZShmKS50b0xvd2VyQ2FzZSgpKSlcbiAgICAgIC5zb3J0KChhLCBiKSA9PiBhLmxvY2FsZUNvbXBhcmUoYikpIC8vIE9yZGVuYXIgYWxmYWJldGljYW1lbnRlXG4gICAgICAubWFwKChmKSA9PiAoe1xuICAgICAgICBmaWxlbmFtZTogZixcbiAgICAgICAgdXJsOiBgLyR7Zm9sZGVyfS8ke2Z9YCxcbiAgICAgICAgZm9sZGVyLFxuICAgICAgICB0aW1lc3RhbXAsIC8vIEFkaWNpb25hIHRpbWVzdGFtcCBwYXJhIGZvcsOnYXIgcmVsb2FkXG4gICAgICB9KSk7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgaW1hZ2VzLCBmb2xkZXJzOiBBTExPV0VEX0ZPTERFUlMgfSk7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGltYWdlczogW10sIGZvbGRlcnM6IEFMTE9XRURfRk9MREVSUyB9KTtcbiAgfVxufVxuXG4vKiogUE9TVCAvYXBpL2FkbWluL2ltYWdlcyDigJQgVXBsb2FkIGRlIGltYWdlbVxuICogIEZvcm1EYXRhOiBmaWxlLCBmb2xkZXIsIHNhdmVhcz8gKG5vbWUgZG8gYXJxdWl2byBhIHNvYnJlc2NyZXZlcilcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgY29uc29sZS5sb2coJycpO1xuICBjb25zb2xlLmxvZygn4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQJyk7XG4gIGNvbnNvbGUubG9nKCfwn5OlIEFQSTogUE9TVCAvYXBpL2FkbWluL2ltYWdlcycpO1xuICBjb25zb2xlLmxvZygn4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQJyk7XG4gIFxuICB0cnkge1xuICAgIGNvbnN0IGZvcm1EYXRhID0gYXdhaXQgcmVxdWVzdC5mb3JtRGF0YSgpO1xuICAgIGNvbnN0IGZpbGUgPSBmb3JtRGF0YS5nZXQoXCJmaWxlXCIpIGFzIEZpbGUgfCBudWxsO1xuICAgIGNvbnN0IGZvbGRlciA9IGZvcm1EYXRhLmdldChcImZvbGRlclwiKSBhcyBzdHJpbmcgfCBudWxsO1xuICAgIGNvbnN0IHNhdmVhcyA9IChmb3JtRGF0YS5nZXQoXCJzYXZlYXNcIikgYXMgc3RyaW5nIHwgbnVsbCk/LnRyaW0oKSB8fCBudWxsO1xuXG4gICAgY29uc29sZS5sb2coJ/Cfk6YgRGFkb3MgcmVjZWJpZG9zOicpO1xuICAgIGNvbnNvbGUubG9nKCcgICAtIEFycXVpdm86JywgZmlsZT8ubmFtZSwgZmlsZSA/IGAoJHsoZmlsZS5zaXplIC8gMTAyNCkudG9GaXhlZCgyKX0gS0IpYCA6ICcoYXVzZW50ZSknKTtcbiAgICBjb25zb2xlLmxvZygnICAgLSBQYXN0YTonLCBmb2xkZXIgfHwgJyhhdXNlbnRlKScpO1xuICAgIGNvbnNvbGUubG9nKCcgICAtIFNhbHZhciBjb21vOicsIHNhdmVhcyB8fCAnKG7Do28gZXNwZWNpZmljYWRvIC0gdXNhciBub21lIG9yaWdpbmFsKScpO1xuICAgIGNvbnNvbGUubG9nKCcnKTtcblxuICAgIGlmICghZmlsZSB8fCAhZm9sZGVyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgVmFsaWRhw6fDo28gZmFsaG91OiBhcnF1aXZvIG91IHBhc3RhIGF1c2VudGUnKTtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBcIkFycXVpdm8gZSBwYXN0YSBzw6NvIG9icmlnYXTDs3Jpb3NcIiB9LCB7IHN0YXR1czogNDAwIH0pO1xuICAgIH1cblxuICAgIGlmICghQUxMT1dFRF9GT0xERVJTLmluY2x1ZGVzKGZvbGRlcikpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBWYWxpZGHDp8OjbyBmYWxob3U6IHBhc3RhIG7Do28gcGVybWl0aWRhOicsIGZvbGRlcik7XG4gICAgICBjb25zb2xlLmVycm9yKCcgICBQYXN0YXMgcGVybWl0aWRhczonLCBBTExPV0VEX0ZPTERFUlMuam9pbignLCAnKSk7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogXCJQYXN0YSBuw6NvIHBlcm1pdGlkYVwiIH0sIHsgc3RhdHVzOiA0MDAgfSk7XG4gICAgfVxuXG4gICAgbGV0IHNhZmVOYW1lOiBzdHJpbmc7XG5cbiAgICBpZiAoc2F2ZWFzKSB7XG4gICAgICAvLyBNb2RvIHN1YnN0aXR1acOnw6NvOiB1c2EgbyBub21lIGZvcm5lY2lkb1xuICAgICAgc2FmZU5hbWUgPSBzYXZlYXM7XG4gICAgICBjb25zb2xlLmxvZygn8J+UhCBNb2RvOiBTVUJTVElUVUnDh8ODTycpO1xuICAgICAgY29uc29sZS5sb2coJ/Cfk50gTm9tZSBhIHNlciB1c2FkbzonLCBzYWZlTmFtZSk7XG4gICAgICBjb25zdCBleHQgPSBwYXRoLmV4dG5hbWUoc2FmZU5hbWUpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBjb25zb2xlLmxvZygn8J+TjiBFeHRlbnPDo286JywgZXh0KTtcbiAgICAgIGlmICghQUxMT1dFRF9FWFRFTlNJT05TLmluY2x1ZGVzKGV4dCkpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIFZhbGlkYcOnw6NvIGZhbGhvdTogZXh0ZW5zw6NvIG7Do28gcGVybWl0aWRhOicsIGV4dCk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJyAgIEV4dGVuc8O1ZXMgcGVybWl0aWRhczonLCBBTExPV0VEX0VYVEVOU0lPTlMuam9pbignLCAnKSk7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBcIkZvcm1hdG8gZGUgYXJxdWl2byBuw6NvIHBlcm1pdGlkb1wiIH0sIHsgc3RhdHVzOiA0MDAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE1vZG8gdXBsb2FkIG5vcm1hbDogYWRpY2lvbmEgcHJlZml4byBudW3DqXJpY28gYXV0b21hdGljYW1lbnRlXG4gICAgICBjb25zdCBleHQgPSBwYXRoLmV4dG5hbWUoZmlsZS5uYW1lKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgY29uc29sZS5sb2coJ/Cfk6QgTW9kbzogVVBMT0FEIE5PVk8nKTtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OOIEV4dGVuc8OjbzonLCBleHQpO1xuICAgICAgaWYgKCFBTExPV0VEX0VYVEVOU0lPTlMuaW5jbHVkZXMoZXh0KSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgVmFsaWRhw6fDo28gZmFsaG91OiBleHRlbnPDo28gbsOjbyBwZXJtaXRpZGE6JywgZXh0KTtcbiAgICAgICAgY29uc29sZS5lcnJvcignICAgRXh0ZW5zw7VlcyBwZXJtaXRpZGFzOicsIEFMTE9XRURfRVhURU5TSU9OUy5qb2luKCcsICcpKTtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiRm9ybWF0byBkZSBhcnF1aXZvIG7Do28gcGVybWl0aWRvXCIgfSwgeyBzdGF0dXM6IDQwMCB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQnVzY2EgYXJxdWl2b3MgZXhpc3RlbnRlcyBwYXJhIGRldGVybWluYXIgYSBwcsOzeGltYSBwb3Npw6fDo29cbiAgICAgIGNvbnN0IGRpclBhdGggPSBwYXRoLmpvaW4oUFVCTElDX0RJUiwgZm9sZGVyKTtcbiAgICAgIGF3YWl0IG1rZGlyKGRpclBhdGgsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xuICAgICAgXG4gICAgICBsZXQgZXhpc3RpbmdGaWxlczogc3RyaW5nW10gPSBbXTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGV4aXN0aW5nRmlsZXMgPSBhd2FpdCByZWFkZGlyKGRpclBhdGgpO1xuICAgICAgICBleGlzdGluZ0ZpbGVzID0gZXhpc3RpbmdGaWxlc1xuICAgICAgICAgIC5maWx0ZXIoKGYpID0+IEFMTE9XRURfRVhURU5TSU9OUy5pbmNsdWRlcyhwYXRoLmV4dG5hbWUoZikudG9Mb3dlckNhc2UoKSkpXG4gICAgICAgICAgLnNvcnQoKGEsIGIpID0+IGEubG9jYWxlQ29tcGFyZShiKSk7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgLy8gRGlyZXTDs3JpbyBuw6NvIGV4aXN0ZSBhaW5kYSwgc2Vyw6EgY3JpYWRvXG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IG5leHRQb3NpdGlvbiA9IGV4aXN0aW5nRmlsZXMubGVuZ3RoICsgMTtcbiAgICAgIGNvbnN0IHBvc2l0aW9uUHJlZml4ID0gU3RyaW5nKG5leHRQb3NpdGlvbikucGFkU3RhcnQoMiwgJzAnKTtcbiAgICAgIFxuICAgICAgLy8gUmVtb3ZlIGV4dGVuc8OjbyBlIHF1YWxxdWVyIHByZWZpeG8gbnVtw6lyaWNvIGV4aXN0ZW50ZSBkbyBub21lIG9yaWdpbmFsXG4gICAgICBjb25zdCBvcmlnaW5hbE5hbWVXaXRob3V0RXh0ID0gZmlsZS5uYW1lLnJlcGxhY2UoL1xcLlteLy5dKyQvLCAnJyk7XG4gICAgICBjb25zdCBjbGVhbk5hbWUgPSBvcmlnaW5hbE5hbWVXaXRob3V0RXh0LnJlcGxhY2UoL15cXGQrLS8sICcnKTtcbiAgICAgIFxuICAgICAgc2FmZU5hbWUgPSBgJHtwb3NpdGlvblByZWZpeH0tJHtjbGVhbk5hbWV9JHtleHR9YDtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ/Cfk50gQXJxdWl2b3MgZXhpc3RlbnRlczonLCBleGlzdGluZ0ZpbGVzLmxlbmd0aCk7XG4gICAgICBjb25zb2xlLmxvZygn8J+TjSBQcsOzeGltYSBwb3Npw6fDo286JywgbmV4dFBvc2l0aW9uKTtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SiIFByZWZpeG86JywgcG9zaXRpb25QcmVmaXggKyAnLScpO1xuICAgICAgY29uc29sZS5sb2coJ/Cfk50gTm9tZSBsaW1wbzonLCBjbGVhbk5hbWUpO1xuICAgICAgY29uc29sZS5sb2coJ/Cfk50gTm9tZSBmaW5hbDonLCBzYWZlTmFtZSk7XG4gICAgfVxuXG4gICAgY29uc3QgZGlyUGF0aCA9IHBhdGguam9pbihQVUJMSUNfRElSLCBmb2xkZXIpO1xuICAgIGNvbnNvbGUubG9nKCcnKTtcbiAgICBjb25zb2xlLmxvZygn8J+TgSBDcmlhbmRvIGRpcmV0w7NyaW8gKHNlIG7Do28gZXhpc3Rpcik6JywgZGlyUGF0aCk7XG4gICAgYXdhaXQgbWtkaXIoZGlyUGF0aCwgeyByZWN1cnNpdmU6IHRydWUgfSk7XG4gICAgY29uc29sZS5sb2coJ+KchSBEaXJldMOzcmlvIHByb250bycpO1xuXG4gICAgY29uc3QgZmlsZVBhdGggPSBwYXRoLmpvaW4oZGlyUGF0aCwgc2FmZU5hbWUpO1xuICAgIGNvbnNvbGUubG9nKCcnKTtcbiAgICBjb25zb2xlLmxvZygn8J+SviBTYWx2YW5kbyBhcnF1aXZvIGVtOicsIGZpbGVQYXRoKTtcbiAgICBcbiAgICBjb25zdCBidWZmZXIgPSBCdWZmZXIuZnJvbShhd2FpdCBmaWxlLmFycmF5QnVmZmVyKCkpO1xuICAgIGNvbnNvbGUubG9nKCfwn5OKIEJ1ZmZlciBjcmlhZG86JywgYnVmZmVyLmxlbmd0aCwgJ2J5dGVzJyk7XG4gICAgXG4gICAgYXdhaXQgd3JpdGVGaWxlKGZpbGVQYXRoLCBidWZmZXIpO1xuICAgIFxuICAgIGNvbnN0IHRpbWVzdGFtcCA9IERhdGUubm93KCk7XG4gICAgY29uc3QgcmVzdWx0VXJsID0gYC8ke2ZvbGRlcn0vJHtzYWZlTmFtZX1gO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKCcnKTtcbiAgICBjb25zb2xlLmxvZygn4pyF4pyF4pyFIEFSUVVJVk8gU0FMVk8gQ09NIFNVQ0VTU08hIOKcheKcheKchScpO1xuICAgIGNvbnNvbGUubG9nKCfwn4yQIFVSTDonLCByZXN1bHRVcmwpO1xuICAgIGNvbnNvbGUubG9nKCfwn5OdIE5vbWUgZG8gYXJxdWl2bzonLCBzYWZlTmFtZSk7XG4gICAgY29uc29sZS5sb2coJ+KPsCBUaW1lc3RhbXA6JywgdGltZXN0YW1wKTtcbiAgICBjb25zb2xlLmxvZygn4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQJyk7XG4gICAgY29uc29sZS5sb2coJycpO1xuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIG9rOiB0cnVlLFxuICAgICAgdXJsOiByZXN1bHRVcmwsXG4gICAgICBmaWxlbmFtZTogc2FmZU5hbWUsXG4gICAgICB0aW1lc3RhbXAsXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignJyk7XG4gICAgY29uc29sZS5lcnJvcign4p2M4p2M4p2MIEVSUk8gTk8gVVBMT0FEIOKdjOKdjOKdjCcpO1xuICAgIGNvbnNvbGUuZXJyb3IoJ1RpcG86JywgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm5hbWUgOiB0eXBlb2YgZXJyb3IpO1xuICAgIGNvbnNvbGUuZXJyb3IoJ01lbnNhZ2VtOicsIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKSk7XG4gICAgY29uc29sZS5lcnJvcignU3RhY2s6JywgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLnN0YWNrIDogJ04vQScpO1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkCcpO1xuICAgIGNvbnNvbGUuZXJyb3IoJycpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBcIkVycm8gbm8gdXBsb2FkXCIsIGRldGFpbHM6IFN0cmluZyhlcnJvcikgfSwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsInJlYWRkaXIiLCJkeW5hbWljIiwid3JpdGVGaWxlIiwibWtkaXIiLCJwYXRoIiwiUFVCTElDX0RJUiIsImpvaW4iLCJwcm9jZXNzIiwiY3dkIiwiQUxMT1dFRF9GT0xERVJTIiwiQUxMT1dFRF9FWFRFTlNJT05TIiwiR0VUIiwicmVxdWVzdCIsInNlYXJjaFBhcmFtcyIsIlVSTCIsInVybCIsImZvbGRlciIsImdldCIsImluY2x1ZGVzIiwianNvbiIsImVycm9yIiwic3RhdHVzIiwiZGlyUGF0aCIsImZpbGVzIiwidGltZXN0YW1wIiwiRGF0ZSIsIm5vdyIsImltYWdlcyIsImZpbHRlciIsImYiLCJleHRuYW1lIiwidG9Mb3dlckNhc2UiLCJzb3J0IiwiYSIsImIiLCJsb2NhbGVDb21wYXJlIiwibWFwIiwiZmlsZW5hbWUiLCJmb2xkZXJzIiwiUE9TVCIsImNvbnNvbGUiLCJsb2ciLCJmb3JtRGF0YSIsImZpbGUiLCJzYXZlYXMiLCJ0cmltIiwibmFtZSIsInNpemUiLCJ0b0ZpeGVkIiwic2FmZU5hbWUiLCJleHQiLCJyZWN1cnNpdmUiLCJleGlzdGluZ0ZpbGVzIiwibmV4dFBvc2l0aW9uIiwibGVuZ3RoIiwicG9zaXRpb25QcmVmaXgiLCJTdHJpbmciLCJwYWRTdGFydCIsIm9yaWdpbmFsTmFtZVdpdGhvdXRFeHQiLCJyZXBsYWNlIiwiY2xlYW5OYW1lIiwiZmlsZVBhdGgiLCJidWZmZXIiLCJCdWZmZXIiLCJmcm9tIiwiYXJyYXlCdWZmZXIiLCJyZXN1bHRVcmwiLCJvayIsIkVycm9yIiwibWVzc2FnZSIsInN0YWNrIiwiZGV0YWlscyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/admin/images/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Fimages%2Froute&page=%2Fapi%2Fadmin%2Fimages%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fimages%2Froute.ts&appDir=C%3A%5Cprojetos-dev%5Cice_van_site%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5Cprojetos-dev%5Cice_van_site&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();